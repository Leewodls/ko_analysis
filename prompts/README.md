# 카테고리별 평가 프롬프트 관리

이 디렉토리는 각 카테고리별 GPT 평가 프롬프트를 YAML 파일로 관리합니다.

## 📁 파일 구조

```
prompts/
├── README.md                    # 이 파일
├── communication.yaml           # 의사소통 능력 평가 프롬프트
├── job_compatibility.yaml       # 직무적합도 평가 프롬프트
├── org_fit.yaml                # 조직적합도 평가 프롬프트
├── tech_stack.yaml             # 보유역량 평가 프롬프트
└── problem_solving.yaml        # 문제해결력 평가 프롬프트
```

## 🎯 평가 카테고리

| 카테고리 | 파일명 | 설명 |
|---------|--------|------|
| 의사소통 능력 | `communication.yaml` | 텍스트 기반 의사소통 능력 평가 (60점 만점) |
| 직무적합도 | `job_compatibility.yaml` | 해당 직무에 대한 적합성 평가 |
| 조직적합도 | `org_fit.yaml` | 조직 문화와 팀 적응력 평가 |
| 보유역량 | `tech_stack.yaml` | 기술적 역량과 전문성 평가 |
| 문제해결력 | `problem_solving.yaml` | 문제 분석 및 해결 능력 평가 |

## 📝 YAML 파일 구조

각 YAML 파일은 다음과 같은 구조를 가집니다:

```yaml
# 카테고리 기본 정보
category_name: "카테고리 이름"
description: "카테고리 설명"

# 평가 기준 (GPT 프롬프트의 핵심 부분)
evaluation_criteria: |
  평가 기준:
  - 기준 1
  - 기준 2
  - 기준 3

# 점수 기준
scoring_guide: |
  점수 기준:
  - 매우 우수(90-100점): 설명
  - 우수(80-89점): 설명
  - 보통(60-79점): 설명
  - 미흡(40-59점): 설명
  - 매우 미흡(0-39점): 설명

# 추가 평가 지침 (선택사항)
additional_instructions: |
  평가 시 고려사항:
  - 고려사항 1
  - 고려사항 2

# 출력 형태 정의 (새로 추가!)
output_format:
  type: "json"  # json, text, structured 중 선택
  structure:
    score:
      type: "number"
      range: [0, 100]
      description: "점수"
    # 원하는 출력 필드들을 자유롭게 정의...
```

## 🔧 프롬프트 수정 방법

1. **해당 카테고리의 YAML 파일을 열기**
   ```bash
   # 예: 직무적합도 프롬프트 수정
   nano prompts/job_compatibility.yaml
   ```

2. **평가 기준 수정**
   - `evaluation_criteria` 섹션에서 평가 기준을 수정
   - 구체적이고 측정 가능한 기준으로 작성

3. **점수 기준 조정**
   - `scoring_guide` 섹션에서 점수 구간별 기준 조정
   - 0-100점 척도 유지

4. **추가 지침 작성**
   - `additional_instructions` 섹션에 세부 평가 지침 추가

5. **서버 재시작**
   - 프롬프트 수정 후 서버를 재시작해야 변경사항이 반영됩니다
   ```bash
   # API 서버 재시작
   python app.py
   ```

## ⚠️ 주의사항

1. **YAML 문법 준수**: 들여쓰기와 문법을 정확히 지켜주세요
2. **인코딩**: 파일은 UTF-8 인코딩으로 저장해주세요
3. **백업**: 수정 전 원본 파일을 백업해두세요
4. **테스트**: 프롬프트 수정 후 실제 평가가 올바르게 작동하는지 확인하세요

## 🚀 사용 예시

### 직무적합도 프롬프트 커스터마이징

```yaml
evaluation_criteria: |
  직무적합도 평가 기준:
  - React, Node.js 등 프론트엔드/백엔드 기술 스택 경험
  - 실제 웹 개발 프로젝트 참여 경험
  - 사용자 경험(UX) 고려한 개발 접근법
  - 코드 품질 및 유지보수성에 대한 이해
```

### 조직적합도 프롬프트 커스터마이징

```yaml
evaluation_criteria: |
  조직적합도 평가 기준:
  - 스타트업 환경에서의 빠른 의사결정 적응력
  - 다양한 직군과의 협업 경험
  - 자율적이고 책임감 있는 업무 수행 능력
  - 지속적인 학습과 성장에 대한 열정
```

## 📊 평가 결과 확인

프롬프트 수정 후 평가 결과는 다음 위치에서 확인할 수 있습니다:

- **MariaDB**: `answer_category_result` 테이블
- **로그 파일**: `pipeline.log`
- **API 응답**: `/analyze` 엔드포인트 결과

## 🔄 버전 관리

프롬프트 변경 이력을 관리하려면:

1. Git으로 버전 관리
2. 변경 전후 성능 비교
3. A/B 테스트를 통한 최적화

---

💡 **팁**: 프롬프트 품질이 평가 정확도에 직접적인 영향을 미치므로, 신중하게 작성하고 충분한 테스트를 거쳐 적용하세요. 